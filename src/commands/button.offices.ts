import { MessageContext } from 'puregram';

import { ICommand } from './command.type';
import { sendMessage } from '../telegram-methods';
import { kb_createTicket } from '../keyboard';

const message = `–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Telegram-–±–æ—Ç–æ–≤ –ø–æ–¥ –∫–ª—é—á:
‚Äì –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞—è–≤–æ–∫, —Ä–∞—Å—Å—ã–ª–æ–∫, FAQ, –∫–≤–∏–∑–æ–≤
‚Äì –í–æ—Ä–æ–Ω–∫–∏, —Ñ–æ—Ä–º—ã, CRM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞–Ω–∏–µ Mini Apps (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Telegram):
‚Äì –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–Ω–æ–ø–∫–∞–º–∏, —Ñ–æ—Ä–º–∞–º–∏, –∫–∞—Ç–∞–ª–æ–≥–∞–º–∏
‚Äì –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API, –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö, –ø–ª–∞—Ç—ë–∂–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º
–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–æ–≤:
‚Äì –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ—à–µ–Ω–∏–π
‚Äì –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚Äì –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ 
–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
‚Äì –ü–æ–º–æ–∂–µ–º —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –±–æ—Ç–∞ –æ—Ç –ê –¥–æ –Ø –ø–æ–¥ –≤–∞—à—É –∑–∞–¥–∞—á—É
‚Äì –û—Ü–µ–Ω–∏–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å—Ä–æ–∫–∏, –ø–æ–¥—Å–∫–∞–∂–µ–º –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏`;

export const officesCommand = new class OfficesCommand implements ICommand {

    public readonly trigger = /^üåü –£—Å–ª—É–≥–∏$/;

    public async handler(context: MessageContext): Promise<any> {

        if (!context.hasFrom()) return;

        await context.delete();


        await sendMessage(context.senderId, message, await kb_createTicket());

    }
};